import{j as R}from"./jsx-runtime-Dgx6C67A.js";import{U as Y,d as Ve,a as qe,b as Ae,f as Ge,k as Ne,m as Ue,t as We,s as Je,e as Qe,g as Xe,h as Ye,i as Ze,p as et,S as z,j as tt,u as nt,l as rt,n as at,V as w,o as ot,c as _}from"./typography-nRPUQl0B.js";import{r as i}from"./iframe-DjME0V7K.js";var lt={_currentlyFocusedNode:null,currentlyFocusedField(){return document.activeElement!==this._currentlyFocusedNode&&(this._currentlyFocusedNode=null),this._currentlyFocusedNode},focusTextInput(e){e!==null&&(this._currentlyFocusedNode=e,document.activeElement!==e&&Y.focus(e))},blurTextInput(e){e!==null&&(this._currentlyFocusedNode=null,document.activeElement===e&&Y.blur(e))}};const y=lt;var ut=(e,o)=>{var l=e.selectionEnd,s=e.selectionStart,c=o.start,S=o.end;return c!==s||S!==l},Z=(e,o)=>{if(ut(e,o)){var l=o.start,s=o.end;try{e.setSelectionRange(l,s||l)}catch{}}},it=Object.assign({},Ve,qe,Ae,Ge,Ne,Ue,We,Je,{autoCapitalize:!0,autoComplete:!0,autoCorrect:!0,autoFocus:!0,defaultValue:!0,disabled:!0,lang:!0,maxLength:!0,onChange:!0,onScroll:!0,placeholder:!0,pointerEvents:!0,readOnly:!0,rows:!0,spellCheck:!0,value:!0,type:!0}),st=e=>et(e,it);function ct(e){return e.isComposing||e.keyCode===229}var O=null,I=i.forwardRef((e,o)=>{var l=e.autoCapitalize,s=l===void 0?"sentences":l,c=e.autoComplete,S=e.autoCompleteType,C=e.autoCorrect,D=C===void 0?!0:C,x=e.blurOnSubmit,ee=e.caretHidden,te=e.clearTextOnFocus,j=e.dir,ne=e.editable,re=e.enterKeyHint,h=e.inputMode,L=e.keyboardType,B=e.multiline,d=B===void 0?!1:B,ae=e.numberOfLines,K=e.onBlur,H=e.onChange,$=e.onChangeText,b=e.onContentSizeChange,V=e.onFocus,q=e.onKeyPress,oe=e.onLayout,le=e.onMoveShouldSetResponder,ue=e.onMoveShouldSetResponderCapture,ie=e.onResponderEnd,se=e.onResponderGrant,ce=e.onResponderMove,de=e.onResponderReject,fe=e.onResponderRelease,he=e.onResponderStart,ve=e.onResponderTerminate,Se=e.onResponderTerminationRequest,me=e.onScrollShouldSetResponder,ye=e.onScrollShouldSetResponderCapture,A=e.onSelectionChange,Ce=e.onSelectionChangeShouldSetResponder,ge=e.onSelectionChangeShouldSetResponderCapture,pe=e.onStartShouldSetResponder,Re=e.onStartShouldSetResponderCapture,G=e.onSubmitEditing,xe=e.placeholderTextColor,N=e.readOnly,be=N===void 0?!1:N,Te=e.returnKeyType,U=e.rows,W=e.secureTextEntry,g=W===void 0?!1:W,T=e.selection,Ee=e.selectTextOnFocus,ke=e.showSoftInputOnFocus,J=e.spellCheck,a,p;if(h!=null)p=h,h==="email"?a="email":h==="tel"?a="tel":h==="search"?a="search":h==="url"?a="url":a="text";else if(L!=null)switch(L){case"email-address":a="email";break;case"number-pad":case"numeric":p="numeric";break;case"decimal-pad":p="decimal";break;case"phone-pad":a="tel";break;case"search":case"web-search":a="search";break;case"url":a="url";break;default:a="text"}g&&(a="password");var v=i.useRef({height:null,width:null}),f=i.useRef(null),E=i.useRef(null),Q=i.useRef(!1);i.useEffect(()=>{f.current&&E.current&&Z(f.current,E.current),Q.current=g},[g]);var k=i.useCallback(t=>{if(d&&b&&t!=null){var r=t.scrollHeight,u=t.scrollWidth;(r!==v.current.height||u!==v.current.width)&&(v.current.height=r,v.current.width=u,b({nativeEvent:{contentSize:{height:v.current.height,width:v.current.width}}}))}},[d,b]),Fe=i.useMemo(()=>t=>{t!=null&&(t.clear=function(){t!=null&&(t.value="")},t.isFocused=function(){return t!=null&&y.currentlyFocusedField()===t},k(t))},[k]);function we(t){y._currentlyFocusedNode=null,K&&(t.nativeEvent.text=t.target.value,K(t))}function Oe(t){var r=t.target,u=r.value;t.nativeEvent.text=u,k(r),H&&H(t),$&&$(u)}function Me(t){var r=t.target;V&&(t.nativeEvent.text=r.value,V(t)),r!=null&&(y._currentlyFocusedNode=r,te&&(r.value=""),Ee&&(O!=null&&clearTimeout(O),O=setTimeout(()=>{r!=null&&document.activeElement===r&&r.select()},0)))}function Pe(t){var r=t.target;t.stopPropagation();var u=!d,F=x??u,m=t.nativeEvent,X=ct(m);q&&q(t),t.key==="Enter"&&!t.shiftKey&&!X&&!t.isDefaultPrevented()&&((x||!d)&&G&&(t.preventDefault(),m.text=t.target.value,G(t)),F&&r!=null&&setTimeout(()=>r.blur(),0))}function _e(t){try{var r=t.target,u=r.selectionStart,F=r.selectionEnd,m={start:u,end:F};A&&(t.nativeEvent.selection=m,t.nativeEvent.text=t.target.value,A(t)),Q.current===g&&(E.current=m)}catch{}}Qe(()=>{var t=f.current;t!=null&&T!=null&&Z(t,T),document.activeElement===t&&(y._currentlyFocusedNode=t)},[f,T]);var ze=d?"textarea":"input";Xe(f,oe),Ye(f,{onMoveShouldSetResponder:le,onMoveShouldSetResponderCapture:ue,onResponderEnd:ie,onResponderGrant:se,onResponderMove:ce,onResponderReject:de,onResponderRelease:fe,onResponderStart:he,onResponderTerminate:ve,onResponderTerminationRequest:Se,onScrollShouldSetResponder:me,onScrollShouldSetResponderCapture:ye,onSelectionChangeShouldSetResponder:Ce,onSelectionChangeShouldSetResponderCapture:ge,onStartShouldSetResponder:pe,onStartShouldSetResponderCapture:Re});var Ie=Ze(),De=Ie.direction,n=st(e);n.autoCapitalize=s,n.autoComplete=c||S||"on",n.autoCorrect=D?"on":"off",n.dir=j!==void 0?j:"auto",n.enterKeyHint=re||Te,n.inputMode=p,n.onBlur=we,n.onChange=Oe,n.onFocus=Me,n.onKeyDown=Pe,n.onSelect=_e,n.readOnly=be===!0||ne===!1,n.rows=d?U??ae:1,n.spellCheck=J??D,n.style=[{"--placeholderTextColor":xe},M.textinput$raw,M.placeholder,e.style,ee&&M.caretHidden],n.type=d?void 0:a,n.virtualkeyboardpolicy=ke===!1?"manual":"auto";var je=tt(n),Le=nt(f,je,Fe,o);n.ref=Le;var Be=e.lang!=null?rt(e.lang):null,Ke=e.dir||Be,He=Ke||De,$e=at(ze,n,{writingDirection:He});return $e});I.displayName="TextInput";I.State=y;var M=z.create({textinput$raw:{MozAppearance:"textfield",WebkitAppearance:"none",backgroundColor:"transparent",border:"0 solid black",borderRadius:0,boxSizing:"border-box",font:"14px System",margin:0,padding:0,resize:"none"},placeholder:{placeholderTextColor:"var(--placeholderTextColor)"},caretHidden:{caretColor:"transparent"}});const dt=I,ft=({leftAdornment:e,rightAdornment:o,...l})=>{const[s,c]=i.useState(!1),S=()=>{c(!0)},C=()=>{c(!1)};return R.jsxs(w,{style:z.flatten([P.container,{borderColor:s?_.highlight:_.neutralDarkest}]),onFocus:S,onBlur:C,children:[e?R.jsx(w,{style:P.adornment,children:e}):null,R.jsx(dt,{...l,style:{flex:1,paddingHorizontal:0,paddingVertical:0,textAlign:"left",textAlignVertical:"center",outline:"none",...ot["body-m"]}}),o?R.jsx(w,{style:P.adornment,children:o}):null]})},P=z.create({container:{flexDirection:"row",justifyContent:"center",paddingHorizontal:16,borderColor:_.neutralDarkest,borderWidth:1,borderRadius:12,height:48},adornment:{justifyContent:"center"}});ft.__docgenInfo={description:"",methods:[],displayName:"BaseInput",props:{leftAdornment:{required:!1,tsType:{name:"ReactNode"},description:""},rightAdornment:{required:!1,tsType:{name:"ReactNode"},description:""}}};export{ft as B};
